<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Futuristic Token Burn App</title>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.8.2/dist/web3.min.js"></script>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #0e0f10;
      color: #fff;
      margin: 0;
      padding: 0;
      transition: all 0.3s ease;
    }
    header {
      background: #1e1f21;
      padding: 20px;
      text-align: center;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.6);
    }
    header h1 {
      font-size: 2.5em;
      color: #00ffcc;
    }
    .menu-btn, .wallet-btn, .back-btn {
      background: #333;
      color: #fff;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      margin: 10px;
      font-size: 1.2em;
      border-radius: 5px;
      transition: 0.3s ease;
    }
    .menu-btn:hover, .wallet-btn:hover, .back-btn:hover {
      background: #00ffcc;
    }
    .content {
      display: flex;
      justify-content: space-around;
      padding: 40px;
    }
    .tabs {
      display: flex;
      margin-top: 20px;
      justify-content: center;
    }
    .tab {
      background-color: #444;
      padding: 15px;
      border-radius: 5px;
      cursor: pointer;
      margin: 0 10px;
      transition: 0.3s;
    }
    .tab:hover {
      background-color: #00ffcc;
    }
    .section {
      display: none;
      margin-top: 20px;
      text-align: center;
    }
    .active {
      display: block;
    }
    .slideable-iframe {
      display: flex;
      justify-content: space-between;
    }
    iframe {
      width: 500px;
      height: 400px;
      border: none;
    }
    #wallet-info {
      padding: 20px;
      border: 2px solid #00ffcc;
      border-radius: 10px;
      margin-top: 20px;
    }
    .futuristic-btn {
      background: #00ffcc;
      color: #1e1f21;
      border: none;
      padding: 15px 25px;
      cursor: pointer;
      font-size: 1.2em;
      transition: 0.3s;
      border-radius: 5px;
    }
    .futuristic-btn:hover {
      background: #fff;
      color: #00ffcc;
    }
  </style>
</head>
<body>

  <header>
    <h1>Token Burn 2080</h1>
    <button class="menu-btn" onclick="toggleMenu()">Menu</button>
    <button class="wallet-btn" id="connect-wallet" onclick="connectWallet()">Connect Wallet</button>
    <button class="wallet-btn" id="disconnect-wallet" onclick="disconnectWallet()" style="display:none;">Disconnect Wallet</button>
  </header>

  <div class="content">
    <div id="menu" class="section active">
      <div class="tabs">
        <div class="tab" onclick="showSection('live-price')">Live Price</div>
        <div class="tab" onclick="showSection('profile')">Profile</div>
        <div class="tab" onclick="showSection('dashboard')">Dashboard</div>
        <div class="tab" onclick="showSection('burn')">Burn Tokens</div>
        <div class="tab" onclick="showSection('points-store')">Points Store</div>
        <div class="tab" onclick="showSection('leaderboard')">Leaderboard</div>
      </div>
    </div>

    <div id="live-price" class="section">
      <h2>Live Price</h2>
      <div class="slideable-iframe">
        <iframe id="dextools-widget" title="DEXTools Trading Chart" src="https://www.dextools.io/widget-chart/en/cronos/pe-light/0x5f028f49a7443f34aedfc19ed986c92243d98ef5?theme=light&chartType=2&chartResolution=30&drawingToolbars=false"></iframe>
        <iframe id="geckoterminal-widget" title="GeckoTerminal Pool Chart" src="https://www.geckoterminal.com/es/cro/pools/0x5f028f49a7443f34aedfc19ed986c92243d98ef5?embed=1&info=1&swaps=1&grayscale=1&light_chart=1"></iframe>
      </div>
      <button class="back-btn" onclick="goBackToMenu()">Back to Menu</button>
    </div>

    <div id="profile" class="section">
      <h2>Profile</h2>
      <div id="wallet-info">
        <p>Wallet Address: <span id="wallet-address">Not Connected</span></p>
        <p>Points Earned: <span id="user-points">0</span></p>
      </div>
      <button class="back-btn" onclick="goBackToMenu()">Back to Menu</button>
    </div>

    <div id="dashboard" class="section">
      <h2>Dashboard</h2>
      <p>Your Balance: <span id="balance">0</span> BLZ</p>
      <p>Points Earned: <span id="earned-points">0</span></p>
      <button class="back-btn" onclick="goBackToMenu()">Back to Menu</button>
    </div>

    <div id="burn" class="section">
      <h2>Burn Tokens</h2>
      <p>Select Amount to Burn:</p>
      <button class="futuristic-btn" onclick="burnTokens(10000)">10,000 Tokens for 2,000 Points</button>
      <button class="futuristic-btn" onclick="burnTokens(20000)">20,000 Tokens for 4,000 Points</button>
      <button class="futuristic-btn" onclick="burnTokens(1000000)">1,000,000 Tokens for 200,000 Points</button>
      <button class="back-btn" onclick="goBackToMenu()">Back to Menu</button>
    </div>

    <div id="points-store" class="section">
      <h2>Points Store</h2>
      <p>Use your points to level up or buy a username.</p>
      <button class="futuristic-btn" onclick="buyLevelUp()">Level Up (1,000 Points)</button>
      <button class="futuristic-btn" onclick="buyUsername()">Buy Username (2,000 Points)</button>
      <button class="back-btn" onclick="goBackToMenu()">Back to Menu</button>
    </div>

    <div id="leaderboard" class="section">
      <h2>Leaderboard</h2>
      <p>Top Burners</p>
      <div id="leaderboard-list">
        <!-- Dynamically filled with JS -->
      </div>
      <button class="back-btn" onclick="goBackToMenu()">Back to Menu</button>
    </div>
  </div>

  <script>
    let userWalletAddress = "";
    let userPoints = 0;
    const DEAD_WALLET = "0x000000000000000000000000000000000000dEaD"; // Cronos dead wallet address
    const TOKEN_CONTRACT_ADDRESS = "0x9Ef3fc220867F6cF5655Db3d950cDA67A3a92F9f"; // Example BLZ token contract address
    const ABI = [ /* ABI of the BLZ token contract */ ]; // ABI for the BLZ token contract

    let web3;

    if (typeof window.ethereum !== 'undefined') {
      web3 = new Web3(window.ethereum);
    } else {
      alert("Please install MetaMask to use this functionality.");
    }

    async function connectWallet() {
      try {
        const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
        userWalletAddress = accounts[0];
        document.getElementById('wallet-address').innerText = userWalletAddress;
        document.getElementById('connect-wallet').style.display = 'none';
        document.getElementById('disconnect-wallet').style.display = 'inline-block';
        showSection('profile');
      } catch (error) {
        console.log("Error connecting wallet: ", error);
      }
    }

    async function disconnectWallet() {
      userWalletAddress = "";
      document.getElementById('wallet-address').innerText = 'Not Connected';
      document.getElementById('connect-wallet').style.display = 'inline-block';
      document.getElementById('disconnect-wallet').style.display = 'none';
    }

    async function burnTokens(amount) {
      if (userWalletAddress === "") {
        alert("Please connect your wallet first.");
        return;
      }

      try {
        const contract = new web3.eth.Contract(ABI, TOKEN_CONTRACT_ADDRESS);
        const pointsEarned = calculatePoints(amount);
        
        // Approve the burn transaction (if needed)
        const allowance = await contract.methods.allowance(userWalletAddress, DEAD_WALLET).call();
        if (parseInt(allowance) < amount) {
          await contract.methods.approve(DEAD_WALLET, amount).send({ from: userWalletAddress });
        }

        // Send tokens to the dead wallet
        await contract.methods.transferFrom(userWalletAddress, DEAD_WALLET, amount).send({ from: userWalletAddress });

        // Add points
        userPoints += pointsEarned;
        document.getElementById('user-points').innerText = userPoints;

        alert(`You have burned ${amount} BLZ and earned ${pointsEarned} points!`);
      } catch (error) {
        console.log("Error burning tokens: ", error);
      }
    }

    function calculatePoints(amount) {
      if (amount === 10000) return 2000;
      if (amount === 20000) return 4000;
      if (amount <= 1000000) return (amount / 5); // Example: 1 BLZ = 0.2 points
      return 0;
    }

    function buyLevelUp() {
      if (userPoints >= 1000) {
        userPoints -= 1000;
        document.getElementById('user-points').innerText = userPoints;
        alert('Level Up Purchased!');
      } else {
        alert('Insufficient Points');
      }
    }

    function buyUsername() {
      if (userPoints >= 2000) {
        userPoints -= 2000;
        document.getElementById('user-points').innerText = userPoints;
        alert('Username Purchased!');
      } else {
        alert('Insufficient Points');
      }
    }

    function showSection(sectionId) {
      const sections = document.querySelectorAll('.section');
      sections.forEach((section) => {
        section.classList.remove('active');
      });
      document.getElementById(sectionId).classList.add('active');
    }

    function goBackToMenu() {
      showSection('menu');
    }
  </script>

</body>
</html>
