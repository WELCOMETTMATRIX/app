<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blazzy Token</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #111;
            color: white;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            text-align: center;
            width: 80%;
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 2rem;
        }

        .btn {
            background-color: #00bcd4;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 10px;
            cursor: pointer;
            font-size: 1.2rem;
            border-radius: 5px;
        }

        .btn:hover {
            background-color: #008c91;
        }

        .menu {
            margin: 20px 0;
        }

        .menu button {
            background-color: #6200ea;
            padding: 10px 20px;
            border: none;
            color: white;
            font-size: 1.2rem;
            margin: 10px;
            cursor: pointer;
            border-radius: 5px;
        }

        .menu button:hover {
            background-color: #3700b3;
        }

        .profile, .dashboard {
            display: none;
            margin-top: 20px;
            background-color: #2d2d2d;
            padding: 20px;
            border-radius: 10px;
        }

        .input-field {
            margin: 10px;
            padding: 10px;
            background-color: #333;
            border: 1px solid #444;
            border-radius: 5px;
            color: white;
        }

        select {
            padding: 10px;
            background-color: #333;
            color: white;
            border: 1px solid #444;
            border-radius: 5px;
        }

        .balance {
            font-size: 1.5rem;
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Welcome to Blazzy Token</h1>
        <button class="btn" id="connect-wallet">Connect to Metamask</button>

        <div class="menu">
            <button id="donate">Donate</button>
            <button id="burn-token">Burn Token</button>
            <button id="transfer-tokens">Transfer Tokens</button>
            <button id="donate-blazzy">Donate Blazzy</button>
            <button id="profile-btn">Profile</button>
            <button id="dashboard-btn">Dashboard</button>
        </div>

        <div class="profile" id="profile">
            <h2>Customize Your Profile</h2>
            <input type="text" id="username" class="input-field" placeholder="Enter Username" />
            <button class="btn" id="save-profile">Save Profile</button>
        </div>

        <div class="dashboard" id="dashboard">
            <h2>Dashboard</h2>
            <p>Your current Blazzy Token Balance:</p>
            <div class="balance" id="balance">0 BLZ</div>
        </div>

        <div class="burn-token" id="burn-token-section">
            <h2>Burn Tokens</h2>
            <select id="burn-amount">
                <option value="10000">10,000 BLZ</option>
                <option value="20000">20,000 BLZ</option>
                <option value="100000">100,000 BLZ</option>
                <option value="400000">400,000 BLZ</option>
                <option value="2000000">2,000,000 BLZ</option>
            </select>
            <button class="btn" id="burn-btn">Burn Tokens</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <script>
        let web3;
        let userAccount;
        const blazzyTokenAddress = "0x9Ef3fc220867F6cF5655Db3d950cDA67A3a92F9f"; // Replace with actual contract address
        const donateAddress = "0xaADf8186485Bd29366B935eDee1347Fe25852e50"; // Donate address

        const connectWalletButton = document.getElementById('connect-wallet');
        const donateButton = document.getElementById('donate');
        const burnTokenButton = document.getElementById('burn-token');
        const transferButton = document.getElementById('transfer-tokens');
        const donateBlazzyButton = document.getElementById('donate-blazzy');
        const profileButton = document.getElementById('profile-btn');
        const dashboardButton = document.getElementById('dashboard-btn');
        const burnSection = document.getElementById('burn-token-section');
        const profileSection = document.getElementById('profile');
        const dashboardSection = document.getElementById('dashboard');
        const balanceDisplay = document.getElementById('balance');
        const usernameInput = document.getElementById('username');
        const saveProfileButton = document.getElementById('save-profile');

        // Contract ABI (Replace with your actual contract ABI)
        const contractABI = [
            {
                "constant": false,
                "inputs": [
                    {
                        "name": "_to",
                        "type": "address"
                    },
                    {
                        "name": "_amount",
                        "type": "uint256"
                    }
                ],
                "name": "transfer",
                "outputs": [
                    {
                        "name": "",
                        "type": "bool"
                    }
                ],
                "payable": false,
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "constant": true,
                "inputs": [
                    {
                        "name": "_owner",
                        "type": "address"
                    }
                ],
                "name": "balanceOf",
                "outputs": [
                    {
                        "name": "",
                        "type": "uint256"
                    }
                ],
                "payable": false,
                "stateMutability": "view",
                "type": "function"
            }
        ];

        // Connect to MetaMask
        async function connectMetaMask() {
            if (window.ethereum) {
                web3 = new Web3(window.ethereum);
                try {
                    await window.ethereum.request({ method: 'eth_requestAccounts' });
                    const accounts = await web3.eth.getAccounts();
                    userAccount = accounts[0];
                    alert('Connected: ' + userAccount);
                    getBalance();  // Fetch balance after connecting
                } catch (error) {
                    alert('Connection failed');
                }
            } else {
                alert('MetaMask is not installed');
            }
        }

        // Trigger Donate (send Blazzy tokens to donate address)
        async function donateBlazzy() {
            if (!userAccount) {
                alert("Connect your wallet first!");
                return;
            }

            const amount = prompt("Enter the amount of Blazzy Tokens to donate (in units):");
            if (amount && !isNaN(amount)) {
                const contract = new web3.eth.Contract(contractABI, blazzyTokenAddress);
                try {
                    const amountInWei = web3.utils.toWei(amount, 'ether');  // Convert to 'ether' or use token's decimals
                    await contract.methods.transfer(donateAddress, amountInWei).send({ from: userAccount });
                    alert(`Sent ${amount} BLZ to donation address: ${donateAddress}`);
                } catch (error) {
                    alert('Transaction failed: ' + error.message);
                }
            } else {
                alert('Invalid amount');
            }
        }

        // Trigger Transfer (send Blazzy tokens to other address)
        async function transferBlazzy() {
            const toAddress = prompt("Enter the recipient address: ");
            if (!toAddress) {
                alert('Invalid address');
                return;
            }

            if (!userAccount) {
                alert("Connect your wallet first!");
                return;
            }

            const amount = prompt("Enter the amount of Blazzy Tokens to transfer (in units):");
            if (amount && !isNaN(amount)) {
                const contract = new web3.eth.Contract(contractABI, blazzyTokenAddress);
                try {
                    const amountInWei = web3.utils.toWei(amount, 'ether');
                    await contract.methods.transfer(toAddress, amountInWei).send({ from: userAccount });
                    alert(`Sent ${amount} BLZ to address: ${toAddress}`);
                } catch (error) {
                    alert('Transaction failed: ' + error.message);
                }
            } else {
                alert('Invalid amount');
            }
        }

        // Get Blazzy Token Balance
        async function getBalance() {
            if (!userAccount) {
                alert('Connect your wallet first!');
                return;
            }
            const contract = new web3.eth.Contract(contractABI, blazzyTokenAddress);
            try {
                const balance = await contract.methods.balanceOf(userAccount).call();
                balanceDisplay.textContent = web3.utils.fromWei(balance, 'ether') + ' BLZ'; // Assuming token has 18 decimals
            } catch (error) {
                alert('Failed to retrieve balance');
            }
        }

        // Event Listeners
        connectWalletButton.addEventListener('click', connectMetaMask);
        donateButton.addEventListener('click', donateBlazzy);
        transferButton.addEventListener('click', transferBlazzy);
        donateBlazzyButton.addEventListener('click', donateBlazzy);
        profileButton.addEventListener('click', showProfile);
        dashboardButton.addEventListener('click', showDashboard);
        saveProfileButton.addEventListener('click', saveProfile);
        document.getElementById('burn-btn').addEventListener('click', burnTokens);
    </script>
</body>

</html>
